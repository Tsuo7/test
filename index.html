<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSUO SOCIAIS | MULTIVERSE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Rajdhani:wght@300;500;700&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

    <style id="themeStyles">
        /* O conte√∫do aqui ser√° injetado pelo JavaScript dinamicamente */
    </style>

    <style>
        :root { --p-purple: #bc13fe; --p-red: #ff0000; --p-gray: #ffffff; }
        body { transition: background 1s, color 1s; min-height: 100vh; overflow-x: hidden; }
        .syncopate { font-family: 'Syncopate', sans-serif; }
        .cinzel { font-family: 'Cinzel', serif; }
        
        /* Overlay de Anima√ß√µes de Fundo */
        #bg-overlay { position: fixed; inset: 0; pointer-events: none; z-index: -1; overflow: hidden; }
        .particle { position: absolute; pointer-events: none; }

        /* Elementos Fixos */
        .neon-box { border: 2px solid var(--accent); background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); transition: all 0.5s; }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 1000; overflow-y: auto; }
        input, textarea, select { background: rgba(255,255,255,0.05) !important; border: 1px solid var(--accent) !important; color: white !important; padding: 12px !important; outline: none !important; }

        /* Estilo da Descri√ß√£o */
        .desc-text { white-space: pre-wrap; line-height: 1.6; }

        /* Bot√£o Mestre */
        .btn-main { background: var(--accent); color: var(--btn-text); font-weight: bold; transition: 0.3s; text-transform: uppercase; }
        .btn-main:hover { transform: scale(1.05); box-shadow: 0 0 30px var(--accent); }
    </style>
</head>
<body class="theme-nexus">

<div id="bg-overlay"></div>

<nav class="p-8 flex justify-between items-center max-w-7xl mx-auto relative z-50">
    <div class="flex items-center gap-4 cursor-pointer group" onclick="location.reload()">
        <div id="logoIcon" class="w-14 h-14 neon-box flex items-center justify-center syncopate font-bold text-3xl">T</div>
        <h1 class="syncopate text-2xl tracking-tighter" id="logoName">TSUO</h1>
    </div>
    
    <div class="flex gap-8 items-center">
        <div class="relative group">
            <input type="text" id="searchInput" placeholder="BUSCAR..." class="rounded-full py-2 px-6 text-xs w-48 focus:w-80 transition-all">
        </div>
        <button onclick="openAdmin()" class="btn-main px-6 py-2 rounded-lg text-xs syncopate">ADMIN_SYSTEM</button>
    </div>
</nav>

<main class="max-w-7xl mx-auto px-6 pt-10">
    <div id="postFeed" class="grid grid-cols-1 md:grid-cols-3 gap-10 pb-32"></div>
</main>

<div id="singlePostPage" class="modal p-10">
    <div class="max-w-5xl mx-auto">
        <button onclick="closeModal('singlePostPage')" class="syncopate mb-8 flex items-center gap-2 hover:translate-x-[-5px] transition">
            <i data-lucide="chevron-left"></i> VOLTAR
        </button>
        <div id="postInner" class="neon-box p-10 rounded-3xl"></div>
    </div>
</div>

<div id="adminPanel" class="modal">
    <div class="max-w-7xl mx-auto p-10">
        <div class="flex justify-between items-center mb-10 border-b pb-5">
            <h2 class="syncopate text-3xl">MULTIVERSE_CONTROL</h2>
            <button onclick="location.reload()" class="text-red-500 font-bold">FECHAR</button>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
            <div class="neon-box p-6 rounded-xl">
                <h4 class="syncopate text-sm mb-6 text-yellow-400">CHANGE_REALITY</h4>
                <div class="grid grid-cols-1 gap-4">
                    <button onclick="setTheme('nexus')" class="p-4 bg-purple-900 border-purple-500 border rounded text-xs syncopate">VIOLET NEXUS</button>
                    <button onclick="setTheme('raven')" class="p-4 bg-zinc-100 border-zinc-400 border rounded text-xs text-black syncopate">SILENT RAVEN</button>
                    <button onclick="setTheme('blood')" class="p-4 bg-red-900 border-red-600 border rounded text-xs syncopate">BLOOD BLADE</button>
                </div>
            </div>

            <div class="neon-box p-6 rounded-xl lg:col-span-2">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <input type="hidden" id="editId">
                        <input type="text" id="pTitle" placeholder="T√çTULO" class="w-full">
                        <input type="text" id="pBtnName" placeholder="NOME DO BOT√ÉO" class="w-full">
                        <input type="text" id="pBtnLink" placeholder="LINK" class="w-full">
                        <input type="text" id="pImg" placeholder="URL IMAGEM" class="w-full">
                    </div>
                    <div class="space-y-4">
                        <textarea id="pDesc" placeholder="DESCRI√á√ÉO" class="w-full h-24"></textarea>
                        <textarea id="pNote" placeholder="OBSERVA√á√ÉO DO TSUO" class="w-full h-20"></textarea>
                        <button onclick="savePost()" class="btn-main w-full py-3">SALVAR POSTAGEM</button>
                    </div>
                </div>
                
                <div class="mt-8 pt-8 border-t border-white/10">
                    <input type="text" id="adminSearch" placeholder="üîç Buscar posts criados..." class="w-full mb-4">
                    <div id="adminPostList" class="space-y-2 max-h-60 overflow-y-auto"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="loginModal" class="modal flex items-center justify-center">
    <div class="neon-box p-10 w-full max-w-sm">
        <h3 class="syncopate text-xl mb-6">IDENTIFY_YOURSELF</h3>
        <input type="text" id="user" placeholder="USER" class="w-full mb-4">
        <input type="password" id="pass" placeholder="PASS" class="w-full mb-6">
        <button onclick="handleLogin()" class="btn-main w-full py-4">ENTER</button>
    </div>
</div>

<script>
    // --- DATABASE & THEMES ---
    let posts = JSON.parse(localStorage.getItem('tsuo_v6_posts')) || [];
    let currentTheme = localStorage.getItem('tsuo_theme') || 'nexus';

    const themes = {
        nexus: {
            accent: '#bc13fe', bg: '#050008', btnText: '#fff', 
            font: 'Rajdhani', logo: 'var(--accent)', shadow: 'rgba(188,19,254,0.4)',
            particle: '‚ú®'
        },
        raven: {
            accent: '#ffffff', bg: '#000000', btnText: '#000', 
            font: 'Cinzel', logo: '#fff', shadow: 'rgba(255,255,255,0.2)',
            particle: 'üê¶' 
        },
        blood: {
            accent: '#ff0000', bg: '#0a0000', btnText: '#fff', 
            font: 'Syncopate', logo: '#ff0000', shadow: 'rgba(255,0,0,0.5)',
            particle: 'üî™'
        }
    };

    // --- MUDAN√áA DE TEMA AO VIVO ---
    function setTheme(t) {
        currentTheme = t;
        localStorage.setItem('tsuo_theme', t);
        const config = themes[t];
        
        document.getElementById('themeStyles').innerHTML = `
            :root { --accent: ${config.accent}; --btn-text: ${config.btnText}; }
            body { background: ${config.bg}; color: ${config.accent}; font-family: '${config.font}', sans-serif; }
            .neon-box { border-color: ${config.accent}; box-shadow: 0 0 20px ${config.shadow}; }
            .btn-main { background: ${config.accent}; color: ${config.btnText}; }
            #logoIcon { border-color: ${config.accent}; color: ${config.accent}; }
        `;

        createParticles(config.particle);
        renderFeed();
        lucide.createIcons();
    }

    // --- ANIMA√á√ïES DE FUNDO ---
    function createParticles(char) {
        const container = document.getElementById('bg-overlay');
        container.innerHTML = '';
        for(let i=0; i < 15; i++) {
            const p = document.createElement('div');
            p.className = 'particle';
            p.innerText = char;
            p.style.left = Math.random() * 100 + 'vw';
            p.style.top = Math.random() * 100 + 'vh';
            p.style.fontSize = (Math.random() * 20 + 10) + 'px';
            p.style.opacity = Math.random() * 0.5;
            container.appendChild(p);
            
            gsap.to(p, {
                y: (Math.random() - 0.5) * 200,
                x: (Math.random() - 0.5) * 200,
                duration: Math.random() * 3 + 2,
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut"
            });
        }
    }

    // --- ADMIN LOGIC ---
    function openAdmin() { document.getElementById('loginModal').style.display = 'flex'; }
    function handleLogin() {
        if(document.getElementById('user').value === 'TSUO' && document.getElementById('pass').value === '171088') {
            closeModal('loginModal');
            document.getElementById('adminPanel').style.display = 'block';
            loadAdminList();
        } else alert('FAIL');
    }

    function savePost() {
        const id = document.getElementById('editId').value;
        const data = {
            id: id ? parseInt(id) : Date.now(),
            title: document.getElementById('pTitle').value,
            btnName: document.getElementById('pBtnName').value || 'DOWNLOAD',
            btnLink: document.getElementById('pBtnLink').value,
            img: document.getElementById('pImg').value,
            desc: document.getElementById('pDesc').value,
            note: document.getElementById('pNote').value
        };

        if(id) posts[posts.findIndex(x => x.id === parseInt(id))] = data;
        else posts.unshift(data);

        localStorage.setItem('tsuo_v6_posts', JSON.stringify(posts));
        location.reload();
    }

    function renderFeed(search = "") {
        const feed = document.getElementById('postFeed');
        feed.innerHTML = '';
        posts.filter(p => p.title.toLowerCase().includes(search.toLowerCase())).forEach(p => {
            const card = document.createElement('div');
            card.className = "neon-box p-6 group cursor-pointer hover:scale-105 transition-all overflow-hidden";
            card.innerHTML = `
                <div class="h-40 overflow-hidden mb-4"><img src="${p.img}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition"></div>
                <h3 class="syncopate text-sm font-bold">${p.title}</h3>
                <div class="mt-4 flex justify-between opacity-50 text-[10px]"><span>ESTADO: ATIVO</span><i data-lucide="plus"></i></div>
            `;
            card.onclick = () => viewPost(p.id);
            feed.appendChild(card);
        });
        lucide.createIcons();
    }

    function viewPost(id) {
        const p = posts.find(x => x.id === id);
        const inner = document.getElementById('postInner');
        inner.innerHTML = `
            <div class="flex flex-col md:flex-row gap-10">
                <img src="${p.img}" class="md:w-1/2 rounded-xl border border-white/10 shadow-2xl">
                <div class="md:w-1/2">
                    <h2 class="syncopate text-4xl mb-6">${p.title}</h2>
                    <p class="desc-text text-sm opacity-80 mb-8">${p.desc}</p>
                    ${p.note ? `<div class="p-4 border-l-2 border-red-500 bg-red-500/5 mb-8 italic text-xs">TSUO: ${p.note}</div>` : ''}
                    <a href="${p.btnLink}" target="_blank" class="btn-main block text-center py-4 rounded-full">${p.btnName}</a>
                </div>
            </div>
        `;
        document.getElementById('singlePostPage').style.display = 'block';
        gsap.from("#postInner", { opacity: 0, scale: 0.9, duration: 0.4 });
    }

    function loadAdminList() {
        const list = document.getElementById('adminPostList');
        const s = document.getElementById('adminSearch').value.toLowerCase();
        list.innerHTML = '';
        posts.filter(p => p.title.toLowerCase().includes(s)).forEach(p => {
            list.innerHTML += `
                <div class="flex justify-between p-3 bg-white/5 text-[10px] items-center">
                    <span>${p.title}</span>
                    <div class="flex gap-4">
                        <button onclick="editPost(${p.id})" class="text-blue-400">EDIT</button>
                        <button onclick="deletePost(${p.id})" class="text-red-500">DEL</button>
                    </div>
                </div>
            `;
        });
    }

    function editPost(id) {
        const p = posts.find(x => x.id === id);
        document.getElementById('editId').value = p.id;
        document.getElementById('pTitle').value = p.title;
        document.getElementById('pBtnName').value = p.btnName;
        document.getElementById('pBtnLink').value = p.btnLink;
        document.getElementById('pImg').value = p.img;
        document.getElementById('pDesc').value = p.desc;
        document.getElementById('pNote').value = p.note;
    }

    function deletePost(id) {
        if(confirm('DELETAR?')) {
            posts = posts.filter(x => x.id !== id);
            localStorage.setItem('tsuo_v6_posts', JSON.stringify(posts));
            loadAdminList();
            renderFeed();
        }
    }

    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    document.getElementById('searchInput').oninput = (e) => renderFeed(e.target.value);
    document.getElementById('adminSearch').oninput = () => loadAdminList();

    window.onload = () => setTheme(currentTheme);
</script>

</body>
</html>
